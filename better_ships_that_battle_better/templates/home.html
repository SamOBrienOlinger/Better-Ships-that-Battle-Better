{% extends 'base.html' %}
{% load static %}
{% block title %}Better Ships that Battle Better{% endblock %}
{% block content %}
<!-- Hero Image Section removed - was showing development content -->
<div style="max-width: 800px; margin: 0 auto; text-align: center;">
    {% if user.is_authenticated %}
        <!-- Authenticated User Landing -->
        <div style="margin-bottom: 40px;">
            <h2 style="color: whitesmoke; font-size: 2.5em; margin-bottom: 20px;">
                ⚓ Welcome back, {% if profile %}{{ profile.pirate_name }}{% else %}Captain {{ user.username }}{% endif %}!
            </h2>
            {% if profile and profile.chosen_pirate_queen %}
                <div style="margin: 20px 0;">
                    <img src="{{ profile.chosen_pirate_queen.image_url }}" alt="{{ profile.chosen_pirate_queen.name }}"
                         style="width: 120px; height: 120px; object-fit: cover; border: 2px solid #0048ff45; border-radius: 50%;"
                         onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEyMCIgdmlld0JveD0iMCAwIDEyMCAxMjAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIxMjAiIGhlaWdodD0iMTIwIiBmaWxsPSIjMDAyMjAwIi8+Cjx0ZXh0IHg9IjYwIiB5PSI2NSIgZm9udC1mYW1pbHk9IkNvdXJpZXIgTmV3IiBmb250LXNpemU9IjE0IiBmaWxsPSIjMDBmZjAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIj5QaXJhdGU8L3RleHQ+CjwvZXZnPg=='">
                    <p style="color: whitesmoke; margin-top: 10px;">Following in the wake of {{ profile.chosen_pirate_queen.name }}</p>
                </div>
            {% endif %}
            <p style="font-size: 1.2em; color: whitesmoke;">Your fleet awaits your command</p>
        </div>
        <!-- Quick Stats -->
        {% if stats %}
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px; margin: 30px 0;">
            <div class="stat-card">
                <div class="stat-number">{{ stats.total_games }}</div>
                <div>Battles Fought</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ stats.wins }}</div>
                <div>Victories</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">{{ stats.win_rate }}%</div>
                <div>Win Rate</div>
            </div>
        </div>
        {% endif %}
        <!-- Action Buttons -->
        <div style="margin: 40px 0;">
            <a href="{% url 'game' %}" class="btn" style="font-size: 20px; padding: 20px 40px; margin: 10px;">
                ⚓ BATTLE NOW
            </a>
            <div style="margin-top: 20px;">
                <a href="{% url 'dashboard' %}" class="btn" style="margin: 0 10px;">📊 Dashboard</a>
                {% if not profile %}
                    <a href="{% url 'profile_create' %}" class="btn" style="margin: 0 10px;">🏴‍☠️ Create Profile</a>
                {% else %}
                    <a href="{% url 'profile_edit' %}" class="btn" style="margin: 0 10px;">✏️ Edit Profile</a>
                {% endif %}
                <a href="{% url 'game_history' %}" class="btn" style="margin: 0 10px;">📜 History</a>
            </div>
        </div>
    {% else %}
        <!-- Guest User Landing -->
        <div style="margin-bottom: 40px;">
            <!-- Hero Image Section -->
            <div style="text-align: center; margin-bottom: 30px; display: flex; justify-content: center;">
                {% load static %}
                <img src="{% static 'images/landingpage_draft1.1.png' %}" alt="Pirate Queens Landing Page"
                     style="max-width: 900px; height: auto; border: 3px solid #0048ff45; margin-bottom: 20px; border-radius: 10px;"
                     onerror="this.style.display='none'">
            </div>
            <h2 style="color: whitesmoke; font-size: 3em; margin-bottom: 20px; text-shadow: 0 0 15px #0048ff45;">
                Command your fleet in epic naval warfare
            </h2>
            <p style="font-size: 1.4em; color: whitesmoke; margin-bottom: 30px;">
                Command your fleet in epic naval warfare
            </p>
            <p style="color: whitesmoke; font-size: 1.1em;">
                🏴‍☠️ Choose your pirate legend • 🎯 Master naval combat • 📊 Track your victories
            </p>
        </div>
        <!-- Game Preview -->
        <div style="border: 2px solid #0048ff45; padding: 30px; margin: 30px 0; background-color: #001100;">
            <!-- Pirate Scene Image -->
            <div style="text-align: center; margin-bottom: 20px;">
                <img src="{% static 'images/Pirate ship 1.png' %}" alt="Pirate Ship Battle"
                     style="max-width: 300px; height: auto; border: 1px solid #0048ff45;"
                     onerror="this.style.display='none'">
            </div>
            <h3 style="color: whitesmoke; margin-bottom: 20px;">⚔️ Naval Combat Features</h3>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; text-align: left;">
                <div>
                    <h4 style="color: whitesmoke;">🎯 Strategic Gameplay</h4>
                    <ul style="color: whitesmoke; font-size: 14px;">
                        <li>8x8 tactical grid</li>
                        <li>5 ships to hunt and destroy</li>
                        <li>Limited ammunition challenge</li>
                        <li>Real-time battle feedback</li>
                    </ul>
                </div>
                <div>
                    <h4 style="color: whitesmoke;">🏴‍☠️ Pirate Profiles</h4>
                    <ul style="color: whitesmoke; font-size: 14px;">
                        <li>Choose historical Pirate Queens</li>
                        <li>Create your legend</li>
                        <li>Customize difficulty settings</li>
                        <li>Personal battle biography</li>
                    </ul>
                </div>
                <div>
                    <h4 style="color: whitesmoke;">📊 Battle Records</h4>
                    <ul style="color: whitesmoke; font-size: 14px;">
                        <li>Complete battle history</li>
                        <li>Win/loss statistics</li>
                        <li>Performance analytics</li>
                        <li>Achievement tracking</li>
                    </ul>
                </div>
            </div>
        </div>
        <!-- Call to Action -->
        <div style="margin: 40px 0;">
            <div style="margin-bottom: 30px;">
                <a href="{% url 'game' %}" class="btn" style="font-size: 20px; padding: 20px 40px; margin: 10px;">
                    ⚓ PLAY NOW (GUEST)
                </a>
            </div>
            <div>
                <a href="{% url 'register' %}" class="btn" style="margin: 0 10px; font-size: 16px; padding: 15px 25px;">
                    🏴‍☠️ JOIN THE FLEET
                </a>
                <a href="{% url 'login' %}" class="btn" style="margin: 0 10px;">
                    🔑 CAPTAIN LOGIN
                </a>
            </div>
            <p style="color: whitesmoke; margin-top: 20px; font-size: 14px;">
                Create an account to save your battles and choose your pirate legend
            </p>
        </div>
    {% endif %}
    <!-- Game Instructions -->
    <div style="border: 1px solid #004400; padding: 20px; margin: 40px 0; background-color: #001100; text-align: left;">
        <h3 style="color: whitesmoke; text-align: center; margin-bottom: 20px;">⚔️ How to Play</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px;">
            <div>
                <h4 style="color: whitesmoke;">🎯 Objective</h4>
                <p style="color: whitesmoke; font-size: 14px;">
                    Locate and destroy all 5 enemy ships hidden on the 8x8 grid before running out of ammunition.
                </p>
            </div>
            <div>
                <h4 style="color: whitesmoke;">🚢 Fleet Composition</h4>
                <ul style="color: whitesmoke; font-size: 14px;">
                    <li>1 Carrier (5 cells)</li>
                    <li>1 Battleship (4 cells)</li>
                    <li>1 Cruiser (3 cells)</li>
                    <li>1 Submarine (3 cells)</li>
                    <li>1 Destroyer (2 cells)</li>
                </ul>
            </div>
            <div>
                <h4 style="color: whitesmoke;">💥 Combat</h4>
                <p style="color: whitesmoke; font-size: 14px;">
                    Click grid squares to fire. Red squares = hits, blue squares = misses.
                    Sink ships by hitting all their cells.
                </p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
